<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thêm Sản Phẩm</title>
</head>
<body>
  <app-header></app-header>
  <!-- add-product.component.html -->
  <div class="admin-container">
    <!-- Bảng điều hướng bên trái -->
    <div class="product-menu">
      <h2>Quản Lý Sản Phẩm</h2>
      <ul>
        <li><a routerLink="/product">Xem Danh Sách Sản Phẩm</a></li>
        <li><a routerLink="/add-product">Thêm Sản Phẩm</a></li>
      </ul>
    </div>
  
    <!-- Form thêm sản phẩm -->
    <div class="product-cards">
      <form (ngSubmit)="addProduct()" #productForm="ngForm" novalidate>
        <div>
          <label for="productName">Tên Sản Phẩm:</label>
          <input
            type="text"
            id="productName"
            [(ngModel)]="productName"
            name="productName"
            #productNameField="ngModel"
            required
            minlength="3"
            [ngClass]="{'is-invalid': productNameField.invalid && productNameField.touched}"
          />
          <div *ngIf="productNameField.invalid && productNameField.touched" class="error">
            <small *ngIf="productNameField.errors">Tên sản phẩm là bắt buộc.</small>
            <small *ngIf="productNameField.errors">Tên sản phẩm phải có ít nhất 3 ký tự.</small>
          </div>
        </div>
    
        <div>
          <label for="brandId">Thương Hiệu:</label>
          <select
            id="brandId"
            [(ngModel)]="brandId"
            name="brandId"
            #brandField="ngModel"
            required
            (change)="onBrandSelect()"
            [ngClass]="{'is-invalid': brandField.invalid && brandField.touched}"
          >
            <option value="" disabled>Chọn Thương Hiệu</option>
            <option *ngFor="let brand of brandList" [value]="brand.BrandId">
              {{ brand.BrandName }}
            </option>
          </select>
          <div *ngIf="brandField.invalid && brandField.touched" class="error">
            <small *ngIf="brandField.errors">Thương hiệu là bắt buộc.</small>
          </div>
        </div>
    
        <div>
          <label for="categoryId">ID Danh Mục:</label>
          <input
            type="number"
            id="categoryId"
            [(ngModel)]="categoryId"
            name="categoryId"
            #categoryField="ngModel"
            min="1"
            required
            [ngClass]="{'is-invalid': categoryField.invalid && categoryField.touched}"
          />
          <div *ngIf="categoryField.invalid && categoryField.touched" class="error">
            <small *ngIf="categoryField.errors">ID danh mục là bắt buộc.</small>
            <small *ngIf="categoryField.errors">ID danh mục phải lớn hơn 0.</small>
          </div>
        </div>
    
        <div>
          <label for="price">Giá:</label>
          <input
            type="number"
            id="price"
            [(ngModel)]="price"
            name="price"
            #priceField="ngModel"
            required
            min="1"
            [ngClass]="{'is-invalid': priceField.invalid && priceField.touched}"
          />
          <div *ngIf="priceField.invalid && priceField.touched" class="error">
            <small *ngIf="priceField.errors">Giá là bắt buộc.</small>
            <small *ngIf="priceField.errors">Giá phải lớn hơn 0.</small>
          </div>
        </div>
    
        <div>
          <label for="quantity">Số lượng:</label>
          <input
            type="number"
            id="quantity"
            [(ngModel)]="quantity"
            name="quantity"
            #quantityField="ngModel"
            min="1"
            required
            [ngClass]="{'is-invalid': quantityField.invalid && quantityField.touched}"
          />
          <div *ngIf="quantityField.invalid && quantityField.touched" class="error">
            <small *ngIf="quantityField.errors">Số lượng là bắt buộc.</small>
            <small *ngIf="quantityField.errors">Số lượng phải lớn hơn 0.</small>
          </div>
        </div>
    
        <div>
          <label for="imageUrl">URL Hình ảnh:</label>
          <input
            type="url"
            id="imageUrl"
            [(ngModel)]="imageUrl"
            name="imageUrl"
            #imageUrlField="ngModel"
            required
            [ngClass]="{'is-invalid': imageUrlField.invalid && imageUrlField.touched}"
          />
          <div *ngIf="imageUrlField.invalid && imageUrlField.touched" class="error">
            <small *ngIf="imageUrlField.errors">URL hình ảnh là bắt buộc.</small>
            <small *ngIf="imageUrlField.errors">URL hình ảnh không hợp lệ.</small>
          </div>
        </div>
    
        <button type="submit" [disabled]="productForm.invalid">Thêm Sản Phẩm</button>
    
        <div *ngIf="successMessage" class="alert alert-success">
          {{ successMessage }}
        </div>
    
        <div *ngIf="errorMessage" class="alert alert-error">
          {{ errorMessage }}
        </div>
      </form>
    </div>
  </div>
   <app-footer></app-footer>
</body>
</html>